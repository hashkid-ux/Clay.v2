# ═══════════════════════════════════════════════════════════════════════════
# CALY BACKEND ENVIRONMENT VARIABLES - PRODUCTION READY
# ═══════════════════════════════════════════════════════════════════════════
# Copy this file to .env and fill in the values
# Remove lines that are not needed for your setup
# ═══════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════
# CRITICAL VARIABLES (MUST HAVE - App Won't Work Without These)
# ═══════════════════════════════════════════════════════════════════════════

# Server Configuration
NODE_ENV=production
PORT=8080

# Database Connection (PostgreSQL)
# Get this from Railway dashboard after adding PostgreSQL plugin
DATABASE_URL=postgresql://postgres:password@host:5432/railway

# JWT Authentication (For Login/Register/API Auth)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-random-32-character-hex-string-here
JWT_EXPIRY=24h
JWT_ALGORITHM=HS256

# OpenAI API (AI Agent & Real-time Speech-to-Speech)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-key-here
OPENAI_REALTIME_MODEL=gpt-4o-realtime-preview
OPENAI_MODEL=gpt-4-turbo
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# Exotel Voice Integration (Phone Calls)
# Get from: https://exotel.com/dashboard → Account Settings & API Tokens
EXOTEL_SID=your-exotel-sid
EXOTEL_TOKEN=your-exotel-token
EXOTEL_WEBHOOK_SECRET=your-webhook-secret-key

# Email Service (For OTP Verification)
# Using Gmail: Generate app password from Google Account → Security → App Passwords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-gmail-app-password

# Security & CORS
CORS_ORIGIN=https://app.caly.yourdomain.com

# Data Encryption (For Shopify API Secrets, Exotel Tokens in Database)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-random-32-character-hex-string-here

# Wasabi S3-Compatible Storage (Call Recordings)
# Get from: https://wasabi.com → Access Keys
WASABI_ENABLED=true
WASABI_ACCESS_KEY_ID=your-wasabi-access-key
WASABI_SECRET_ACCESS_KEY=your-wasabi-secret-key
WASABI_REGION=us-east-1
WASABI_BUCKET_NAME=caly-call-recordings
WASABI_ENDPOINT=https://s3.wasabisys.com
WASABI_PUBLIC_URL=https://caly-call-recordings.s3.wasabisys.com

# Webhook Callback URL
WEBHOOK_BASE_URL=https://calybackend-production.up.railway.app

# ═══════════════════════════════════════════════════════════════════════════
# OPTIONAL VARIABLES (Nice to Have, Works Without These)
# ═══════════════════════════════════════════════════════════════════════════

# Exotel Phone Number (Your Agent's Phone)
EXOTEL_PHONE_NUMBER=+91xxxxxxxxxx

# Recording Settings
EXOTEL_RECORDING_ENABLED=true

# Shopify API Version (For Client Integration)
SHOPIFY_API_VERSION=2024-01

# Logging
LOG_LEVEL=info

# ═══════════════════════════════════════════════════════════════════════════
# NOT USED IN CURRENT CODE (REMOVE THESE)
# ═══════════════════════════════════════════════════════════════════════════
# DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASSWORD (use DATABASE_URL instead)
# REFRESH_TOKEN_EXPIRY (not used)
# SMTP_FROM (not used)
# SENDGRID_API_KEY (not using SendGrid)
# SHOPIFY_STORE_URL, SHOPIFY_ACCESS_TOKEN (clients provide during onboarding)
# SHOPIFY_SCOPES (not used)
# WEBHOOK_SECRET_KEY (use EXOTEL_WEBHOOK_SECRET instead)
# ALLOWED_ORIGINS (use CORS_ORIGIN)
# SESSION_SECRET (not in code)
# SESSION_COOKIE_* (not in code)
# RATE_LIMIT_* (not implemented)
# BILLING_* (not implemented)
# DEFAULT_* (not in code)
# ADMIN_EMAIL, SUPPORT_EMAIL, COMPANY_NAME, COMPANY_WEBSITE (not in code)
# LOG_FILE, LOG_MAX_SIZE, LOG_MAX_FILES (Winston config)
# AWS_SES_*, DATADOG_*, SENTRY_*, STRIPE_*, REDIS_* (not used)